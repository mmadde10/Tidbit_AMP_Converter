

# 4.6 Edits
# 4.6.1 The ins element
tags: {
  tag_name: "INS"
  # https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ins
  # These attributes have specific formatting, but as they are metadata
  # that can't hurt performance, rendering or security, we don't validate
  # the values.
  attrs { name: "datetime" }
  attr_lists: "cite-attr"
}
# 4.6.2 The del element
tags: {
  tag_name: "DEL"
  # https://developer.mozilla.org/en-US/docs/Web/HTML/Element/del
  # These attributes have specific formatting, but as they are metadata
  # that can't hurt performance, rendering or security, we don't validate
  # the values.
  attrs { name: "datetime" }
  attr_lists: "cite-attr"
}

# 4.7 Embedded Content
# AMP HTML allows embedded content only via its own tags (e.g. amp-img), with
# the exception of tags inside of a <noscript> ancestor.
# 4.7.1 The img element
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "IMG"
  mandatory_ancestor: "NOSCRIPT"
  mandatory_ancestor_suggested_alternative: "AMP-IMG"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-img"
  attrs: { name: "alt" }
  attrs: { name: "ismap" }
  attrs: {
    name: "longdesc"
    value_url: {
      allow_relative: true
      allowed_protocol: "http"
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "src"
    alternative_names: "srcset"
    mandatory: true
    value_url: {
      allowed_protocol: "data"
      allowed_protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  # These are not supported in html5, but are widely supported by browsers
  # and are commonly used. Since these are only used in noscript contexts,
  # we allow them.
  attrs: { name: "border" }
  attrs: { name: "height" }
  attrs: { name: "width" }
}
# 4.7.2 The iframe element
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "IFRAME"
  mandatory_ancestor: "NOSCRIPT"
  mandatory_ancestor_suggested_alternative: "AMP-IFRAME"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-iframe"
  attrs: {
    name: "name"
  }
  attrs: {
    name: "frameborder"
    value_regex: "0|1"
  }
  attrs: { name: "referrerpolicy" }
  attrs: {
    name: "resizable"
    value: ""
  }
  attrs: {
    name: "height"
  }
  attrs: {
    name: "sandbox"
  }
  attrs: {
    name: "scrolling"
    value_regex: "auto|yes|no"
  }
  attrs: {
    name: "src"
    mandatory_oneof: "['src', 'srcdoc']"
    value_url: {
      allowed_protocol: "data"
      allowed_protocol: "https"
      allow_relative: false
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "srcdoc"
    mandatory_oneof: "['src', 'srcdoc']"
  }
  attrs: {
    name: "width"
  }
}
# 4.7.6 The video element
# Only allowed in noscript tags. Otherwise use amp-video.
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "VIDEO"
  mandatory_ancestor: "NOSCRIPT"
  mandatory_ancestor_suggested_alternative: "AMP-VIDEO"
  attrs: { name: "autoplay" }
  attrs: { name: "controls" }
  attrs: { name: "height" }
  attrs: { name: "loop" }
  attrs: {
    name: "muted"
    deprecation: "autoplay"
    deprecation_url: "https://www.ampproject.org/docs/reference/components/amp-video"
  }
  attrs: { name: "playsinline" }
  attrs: { name: "poster" }
  attrs: { name: "preload" }
  attrs: {
    name: "src"
    value_url: {
      allowed_protocol: "data"
      allowed_protocol: "https"
      allow_relative: false
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: { name: "width" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-video"
}
# 4.7.7 The audio element
# Only allowed in noscript tags. Otherwise use amp-audio.
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "AUDIO"
  mandatory_ancestor: "NOSCRIPT"
  mandatory_ancestor_suggested_alternative: "AMP-AUDIO"
  attrs: { name: "autoplay" }
  attrs: { name: "controls" }
  attrs: { name: "loop" }
  attrs: { name: "muted" }
  attrs: { name: "preload" }
  attrs: {
    name: "src"
    value_url: {
      allowed_protocol: "data"
      allowed_protocol: "https"
      allow_relative: false
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-audio"
}
# 4.7.8 The source element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SOURCE"
  spec_name: "amp-video > source"
  mandatory_parent: "AMP-VIDEO"
  attrs: {
    name: "src"
    value_url: {
      allowed_protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: { name: "media" }
  attrs: { name: "type" }
  # <amp-bind>
  attrs: { name: "[src]" }
  attrs: { name: "[type]" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-video"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SOURCE"
  spec_name: "amp-audio > source"
  mandatory_parent: "AMP-AUDIO"
  attrs: {
    name: "src"
    value_url: {
      allowed_protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: { name: "media" }
  attrs: { name: "type" }
  # <amp-bind>
  attrs: { name: "[src]" }
  attrs: { name: "[type]" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-audio"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SOURCE"
  spec_name: "audio > source"
  mandatory_parent: "AUDIO"
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      allowed_protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "type"
    mandatory: true
  }
  attrs: { name: "media" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-audio"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SOURCE"
  spec_name: "video > source"
  mandatory_parent: "VIDEO"
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      allowed_protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "type"
    mandatory: true
  }
  attrs: { name: "media" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-video"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SOURCE"
  spec_name: "amp-ima-video > source"
  mandatory_parent: "AMP-IMA-VIDEO"
  requires_extension: "amp-ima-video"
  attrs: { name: "media" }
  attrs: {
    name: "src"
    value_url: {
      allowed_protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" }
  # <amp-bind>
  attrs: { name: "[src]" }
  attrs: { name: "[type]" }
}
# 4.7.8 The track element
# We have two attr_list variants to encode the requirement that if
# the attribute kind has the value 'subtitles', then the tag must
# also have a srclang attribute. The first attr_list does not allow
# kind=subtitles, but srclang is optional. The second attr_list
# mandates kind=subtitles and srclang attributes.
attr_lists: {
  name: "track-attrs-no-subtitles"
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      allow_relative: false
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: { name: "default" value: "" }
  attrs: {
    name: "kind"
    value_regex: "(captions|descriptions|chapters|metadata)"
  }
  attrs: { name: "label" }
  attrs: { name: "srclang" }
}
attr_lists: {
  name: "track-attrs-subtitles"
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      allow_relative: false
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: { name: "default" value: "" }
  attrs: {
    name: "kind"
    mandatory: true
    value_casei: "subtitles"
  }
  attrs: { name: "label" }
  attrs: {
    name: "srclang"
    mandatory: true
  }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "audio > track"
  mandatory_parent: "AUDIO"
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "audio > track[kind=subtitles]"
  mandatory_parent: "AUDIO"
  attr_lists: "track-attrs-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "video > track"
  mandatory_parent: "VIDEO"
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "video > track[kind=subtitles]"
  mandatory_parent: "VIDEO"
  attr_lists: "track-attrs-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "amp-audio > track"
  mandatory_parent: "AMP-AUDIO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "amp-audio > track[kind=subtitles]"
  mandatory_parent: "AMP-AUDIO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "amp-video > track"
  mandatory_parent: "AMP-VIDEO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "amp-video > track[kind=subtitles]"
  mandatory_parent: "AMP-VIDEO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TRACK"
  spec_name: "amp-ima-video > track[kind=subtitles]"
  mandatory_parent: "AMP-IMA-VIDEO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-subtitles"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-ima-video"
}


# 4.7.15 SVG
# We allow some limited embedded SVG tags. We do not allow inline styles
# or embedding any external resources.
# Attribute lists: https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute
attr_lists: {
  name: "svg-conditional-processing-attributes"
  attrs: { name: "requiredextensions" }
  attrs: { name: "requiredfeatures" }
  attrs: { name: "systemlanguage" }
}
attr_lists: {
  name: "svg-core-attributes"
  attrs: { name: "xml:lang" }
  attrs: { name: "xml:space" }
  attrs: { name: "xmlns" }
  attrs: { name: "xmlns:xlink" }
}
attr_lists: {
  name: "svg-filter-primitive-attributes"
  attrs: { name: "height" }
  attrs: { name: "result" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
}
attr_lists: {
  name: "svg-presentation-attributes"
  attrs: { name: "alignment-baseline" }
  attrs: { name: "baseline-shift" }
  attrs: { name: "clip" }
  attrs: { name: "clip-path" }
  attrs: { name: "clip-rule" }
  attrs: { name: "color" }
  attrs: { name: "color-interpolation" }
  attrs: { name: "color-interpolation-filters" }
  attrs: { name: "color-profile" }
  attrs: { name: "color-rendering" }
  attrs: { name: "cursor" }
  attrs: { name: "direction" }
  attrs: { name: "display" }
  attrs: { name: "dominant-baseline" }
  attrs: { name: "enable-background" }
  attrs: { name: "fill" }
  attrs: { name: "fill-opacity" }
  attrs: { name: "fill-rule" }
  attrs: { name: "filter" }
  attrs: { name: "flood-color" }
  attrs: { name: "flood-opacity" }
  attrs: { name: "font-family" }
  attrs: { name: "font-size" }
  attrs: { name: "font-size-adjust" }
  attrs: { name: "font-stretch" }
  attrs: { name: "font-style" }
  attrs: { name: "font-variant" }
  attrs: { name: "font-weight" }
  attrs: { name: "glyph-orientation-horizontal" }
  attrs: { name: "glyph-orientation-vertical" }
  attrs: { name: "image-rendering" }
  attrs: { name: "kerning" }
  attrs: { name: "letter-spacing" }
  attrs: { name: "lighting-color" }
  attrs: { name: "marker-end" }
  attrs: { name: "marker-mid" }
  attrs: { name: "marker-start" }
  attrs: { name: "mask" }
  attrs: { name: "opacity" }
  attrs: { name: "overflow" }
  attrs: { name: "pointer-events" }
  attrs: { name: "shape-rendering" }
  attrs: { name: "stop-color" }
  attrs: { name: "stop-opacity" }
  attrs: { name: "stroke" }
  attrs: { name: "stroke-dasharray" }
  attrs: { name: "stroke-dashoffset" }
  attrs: { name: "stroke-linecap" }
  attrs: { name: "stroke-linejoin" }
  attrs: { name: "stroke-miterlimit" }
  attrs: { name: "stroke-opacity" }
  attrs: { name: "stroke-width" }
  attrs: { name: "text-anchor" }
  attrs: { name: "text-decoration" }
  attrs: { name: "text-rendering" }
  attrs: { name: "unicode-bidi" }
  attrs: { name: "vector-effect" }
  attrs: { name: "visibility" }
  attrs: { name: "word-spacing" }
  attrs: { name: "writing-mode" }
}
attr_lists: {
  name: "svg-transfer-function-attributes"
  attrs: { name: "amplitude" }
  attrs: { name: "exponent" }
  attrs: { name: "intercept" }
  attrs: { name: "offset" }
  attrs: { name: "slope" }
  attrs: { name: "table" }
  attrs: { name: "tablevalues" }
}
attr_lists: {
  name: "svg-xlink-attributes"
  attrs: { name: "xlink:actuate" }
  attrs: { name: "xlink:arcrole" }
  attrs: {
    name: "xlink:href"
    # xlink:href is deprecated since SVG2 in favor of href.
    alternative_names: "href"
    value_url: {
      allowed_protocol: "http"
      allowed_protocol: "https"
      allow_relative: true
      allow_empty: false
    }
  }
  attrs: { name: "xlink:role" }
  attrs: { name: "xlink:show" }
  attrs: { name: "xlink:title" }
  attrs: { name: "xlink:type" }
}
# Style attributes are broadly disallowed, but specifically allowed
# within SVG as SVG are commonly generated by tools.
attr_lists: {
  name: "svg-style-attr"
  attrs: {
    name: "style"
    blacklisted_value_regex: "!important"
  }
}

# Basics
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "G"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "transform" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "GLYPH"
  mandatory_ancestor: "SVG"
  attrs: { name: "arabic-form" }
  attrs: { name: "d" }
  attrs: { name: "glyph-name" }
  attrs: { name: "horiz-adv-x" }
  attrs: { name: "orientation" }
  attrs: { name: "unicode" }
  attrs: { name: "vert-origin-x" }
  attrs: { name: "vert-origin-y" }
  attrs: { name: "vert-adv-y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "GLYPHREF"
  mandatory_ancestor: "SVG"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "format" }
  attrs: { name: "glyphref" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "IMAGE"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "transform" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  # XLink Attributes:
  attrs: { name: "xlink:actuate" }
  attrs: { name: "xlink:arcrole" }
  attrs: {
    name: "xlink:href"
    # xlink:href is deprecated since SVG2 in favor of href.
    alternative_names: "href"
    value_url: {
      allowed_protocol: "data"
      allowed_protocol: "http"
      allowed_protocol: "https"
      allow_relative: true
      allow_empty: false
    }
    # Inline SVGs execute in a different context and can affect page elements.
    blacklisted_value_regex: "(^|\\s)data:image\\/svg\\+xml"
  }
  attrs: { name: "xlink:role" }
  attrs: { name: "xlink:show" }
  attrs: { name: "xlink:title" }
  attrs: { name: "xlink:type" }

  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "MARKER"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "markerunits" }
  attrs: { name: "markerwidth" }
  attrs: { name: "markerheight" }
  attrs: { name: "orient" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "refx" }
  attrs: { name: "refy" }
  attrs: { name: "transform" }
  attrs: { name: "viewbox" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "METADATA"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "PATH"
  mandatory_ancestor: "SVG"
  attrs: { name: "d" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "pathlength" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SOLIDCOLOR"
  mandatory_ancestor: "SVG"
  attrs: { name: "solid-color" }
  attrs: { name: "solid-opacity" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SVG"
  attrs: { name: "contentscripttype" }
  attrs: { name: "contentstyletype" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "version" value_regex: "(1.0|1.1)" }
  attrs: { name: "viewbox" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attrs: { name: "zoomandpan" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SWITCH"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "VIEW"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-style-attr"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "viewbox" }
  attrs: { name: "viewtarget" }
  attrs: { name: "zoomandpan" }
  attr_lists: "svg-core-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
# Shapes
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "CIRCLE"
  mandatory_ancestor: "SVG"
  attrs: { name: "cx" }
  attrs: { name: "cy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "r" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "ELLIPSE"
  mandatory_ancestor: "SVG"
  attrs: { name: "cx" }
  attrs: { name: "cy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "rx" }
  attrs: { name: "ry" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "LINE"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attrs: { name: "x1" }
  attrs: { name: "x2" }
  attrs: { name: "y1" }
  attrs: { name: "y2" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "POLYGON"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "points" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "POLYLINE"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "points" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "RECT"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "rx" }
  attrs: { name: "ry" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
# Text
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TEXT"
  mandatory_ancestor: "SVG"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "lengthadjust" }
  attrs: { name: "rotate" }
  attrs: { name: "text-anchor" }
  attrs: { name: "textlength" }
  attrs: { name: "transform" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TEXTPATH"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "method" }
  attrs: { name: "spacing" }
  attrs: { name: "startoffset" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TREF"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TSPAN"
  mandatory_ancestor: "SVG"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "rotate" }
  attrs: { name: "lengthadjust" }
  attrs: { name: "textlength" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
# Rendering
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "CLIPPATH"
  mandatory_ancestor: "SVG"
  attrs: { name: "clippathunits" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "transform" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FILTER"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "filterres" }
  attrs: { name: "filterunits" }
  attrs: { name: "height" }
  attrs: { name: "primitiveunits" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "HKERN"
  mandatory_ancestor: "SVG"
  attrs: { name: "g1" }
  attrs: { name: "g2" }
  attrs: { name: "k" }
  attrs: { name: "u1" }
  attrs: { name: "u2" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "LINEARGRADIENT"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "gradientunits" }
  attrs: { name: "gradienttransform" }
  attrs: { name: "spreadmethod" }
  attrs: { name: "x1" }
  attrs: { name: "y1" }
  attrs: { name: "x2" }
  attrs: { name: "y2" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "MASK"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "maskcontentunits" }
  attrs: { name: "maskunits" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "PATTERN"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "patternunits" }
  attrs: { name: "patterncontentunits" }
  attrs: { name: "patterntransform" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "viewbox" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "RADIALGRADIENT"
  mandatory_ancestor: "SVG"
  attrs: { name: "cx" }
  attrs: { name: "cy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "fr" }
  attrs: { name: "fx" }
  attrs: { name: "fy" }
  attrs: { name: "gradientunits" }
  attrs: { name: "gradienttransform" }
  attrs: { name: "r" }
  attrs: { name: "spreadmethod" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "STOP"
  spec_name: "lineargradient > stop"
  mandatory_ancestor: "LINEARGRADIENT"
  attrs: { name: "offset" }
  attrs: { name: "stop-color" }
  attrs: { name: "stop-opacity" }
  attr_lists: "svg-style-attr"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "STOP"
  spec_name: "radialgradient > stop"
  mandatory_ancestor: "RADIALGRADIENT"
  attrs: { name: "offset" }
  attrs: { name: "stop-color" }
  attrs: { name: "stop-opacity" }
  attr_lists: "svg-style-attr"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "VKERN"
  mandatory_ancestor: "SVG"
  attrs: { name: "g1" }
  attrs: { name: "g2" }
  attrs: { name: "k" }
  attrs: { name: "u1" }
  attrs: { name: "u2" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
# Special
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "DEFS"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "transform" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "SYMBOL"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "viewbox" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "USE"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "transform" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
# Filters
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FECOLORMATRIX"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attrs: { name: "type" }
  attrs: { name: "values" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FECOMPOSITE"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attrs: { name: "in2" }
  attrs: { name: "k1" }
  attrs: { name: "k2" }
  attrs: { name: "k3" }
  attrs: { name: "k4" }
  attrs: { name: "operator" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FEFLOOD"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FEGAUSSIANBLUR"
  mandatory_ancestor: "SVG"
  attrs: { name: "edgemode" }
  attrs: { name: "in" }
  attrs: { name: "stddeviation" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FEMERGE"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FEMERGENODE"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FEOFFSET"
  mandatory_ancestor: "SVG"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "in" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
# HTML inside SVG, esp. to allow amp-img.
# See https://github.com/ampproject/amphtml/issues/717
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FOREIGNOBJECT"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "transform" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-style-attr"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
# ARIA
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "DESC"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "TITLE"
  spec_name: "svg title"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-core-attributes"
  spec_url: "https://www.ampproject.org/docs/reference/spec#svg"
}

# 4.8 Links
# Links are a concept, rather than a tag. See tagspecs for "LINK", "A", etc.

# 4.9 Tabular data
# 4.9.1 The table element
tags: {
  tag_name: "TABLE"
  attrs: { name: "sortable" }
  # These attributes are not supported in HTML5, but are widely supported and
  # commonly found.
  attrs: { name: "align" }
  attrs: { name: "border" value_regex: "0|1" }
  attrs: { name: "bgcolor" }
  attrs: { name: "cellpadding" }
  attrs: { name: "cellspacing" }
  attrs: { name: "width" }
}
# 4.9.2 The caption element
tags: {
  tag_name: "CAPTION"
}
# 4.9.3 The colgroup element
tags: {
  tag_name: "COLGROUP"
  attrs: { name: "span" }
}
# 4.9.4 The col element
tags: {
  tag_name: "COL"
  attrs: { name: "span" }
}
# 4.9.5 The tbody element
tags: {
  tag_name: "TBODY"
}
# 4.9.6 The thead element
tags: {
  tag_name: "THEAD"
}
# 4.9.7 The tfoot element
tags: {
  tag_name: "TFOOT"
}
# 4.9.8 The tr element
tags: {
  tag_name: "TR"
  # These attributes are not supported in HTML5, but are widely supported and
  # commonly found.
  attrs: { name: "align" }
  attrs: { name: "bgcolor" }
  attrs: { name: "height" }
  attrs: { name: "valign" }
}
# 4.9.9 The td element
tags: {
  tag_name: "TD"
  attrs: { name: "colspan" }
  attrs: { name: "headers" }
  attrs: { name: "rowspan" }
  # These attributes are not supported in HTML5, but are widely supported and
  # commonly found.
  attrs: { name: "align" }
  attrs: { name: "bgcolor" }
  attrs: { name: "height" }
  attrs: { name: "valign" }
  attrs: { name: "width" }
}
# 4.9.10 The th element
tags: {
  tag_name: "TH"
  attrs: { name: "abbr" }
  attrs: { name: "colspan" }
  attrs: { name: "headers" }
  attrs: { name: "rowspan" }
  attrs: { name: "scope" }
  attrs: { name: "sorted" }
  # These attributes are not supported in HTML5, but are widely supported and
  # commonly found.
  attrs: { name: "align" }
  attrs: { name: "bgcolor" }
  attrs: { name: "height" }
  attrs: { name: "valign" }
  attrs: { name: "width" }
}

# 4.10 Forms
# Form elements are allowed only when amp-form extension script is included
# with the exception of the button element which is always allowed.
# 4.10.3 The form element
tags {  # <form method=GET ...>
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FORM"
  spec_name: "FORM [method=GET]"
  requires_extension: "amp-form"
  disallowed_ancestor: "AMP-APP-BANNER"
  attrs: { name: "accept" }
  attrs: { name: "accept-charset" }
  # For method=GET forms, we require `action` and allow `action-xhr`.
  attrs: {
    name: "action"
    mandatory: true
    value_url: {
      allow_relative: true
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "action-xhr"
    value_url: {
      allow_relative: true
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: { name: "autocomplete" }
  attrs: {
    name: "custom-validation-reporting"
    value_regex: "(show-first-on-submit|show-all-on-submit|as-you-go|interact-and-submit)"
  }
  attrs: { name: "enctype" }
  attrs: {
    name: "method"
    # Default value is GET, so if method attribute is missing,
    # it matches this tagspec.
    value_casei: "get"
  }
  attrs: { name: "name" }
  attrs: { name: "novalidate" }
  attrs: {
    name: "target"
    mandatory: true
    value_regex_casei: "(_blank|_top)"
  }
  attrs: {
    name: "verify-xhr"
    value_url: {
      allow_relative: true
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
}
tags {  # <form method=POST ...>
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "FORM"
  spec_name: "FORM [method=POST]"
  requires_extension: "amp-form"
  disallowed_ancestor: "AMP-APP-BANNER"
  attrs: { name: "accept" }
  attrs: { name: "accept-charset" }
  # For method=POST forms, we require `action-xhr` and disallow `action`.
  attrs: {
    name: "action-xhr"
    mandatory: true
    value_url: {
      allow_relative: true
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attrs: { name: "autocomplete" }
  attrs: {
    name: "custom-validation-reporting"
    value_regex: "(show-first-on-submit|show-all-on-submit|as-you-go)"
  }
  attrs: { name: "enctype" }
  attrs: {
    name: "method"
    mandatory: true
    value_casei: "post"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: { name: "name" }
  attrs: { name: "novalidate" }
  attrs: {
    name: "target"
    mandatory: true
    value_regex_casei: "(_blank|_top)"
  }
  attrs: {
    name: "verify-xhr"
    value_url: {
      allow_relative: true
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
}
# AMP4EMAIL allows action-xhr and disallows action attribute. It also disallows
# the use of mustache templates in action-xhr. The only allowed
# protocol for action-xhr is https. Relative urls are disallowed.
tags {  # <form method=GET ...>
  html_format: AMP4EMAIL
  tag_name: "FORM"
  spec_name: "FORM [method=GET] (AMP4EMAIL)"
  requires_extension: "amp-form"
  attrs: { name: "accept" }
  attrs: { name: "accept-charset" }
  # AMP4EMAIL only allows 'action-xhr'.
  attrs: {
    name: "action-xhr"
    value_url: {
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "(__amp_source_origin|"
        "{{|}})"    # Mustache is disallowed in action-xhr.
  }
  attrs: { name: "autocomplete" }
  attrs: {
    name: "custom-validation-reporting"
    value_regex: "(as-you-go|"
        "interact-and-submit|"
        "show-all-on-submit|"
        "show-first-on-submit)"
  }
  attrs: { name: "enctype" }
  attrs: {
    name: "method"
    # Default value is GET, so if method attribute is missing,
    # it matches this tagspec.
    value_casei: "get"
  }
  attrs: { name: "name" }
  attrs: { name: "novalidate" }
  attrs: {
    name: "verify-xhr"
    value_url: {
      allow_relative: false
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
}
tags {  # <form method=POST ...>
  html_format: AMP4EMAIL
  tag_name: "FORM"
  spec_name: "FORM [method=POST] (AMP4EMAIL)"
  requires_extension: "amp-form"
  attrs: { name: "accept" }
  attrs: { name: "accept-charset" }
  # For method=POST forms, we require `action-xhr` and disallow `action`.
  attrs: {
    name: "action-xhr"
    mandatory: true
    value_url: {
      allow_relative: false
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "(__amp_source_origin|"
        "{{|}})"    # Mustache is disallowed in action-xhr.
  }
  attrs: { name: "autocomplete" }
  attrs: {
    name: "custom-validation-reporting"
    value_regex: "(as-you-go|"
        "show-all-on-submit|"
        "show-first-on-submit)"
  }
  attrs: { name: "enctype" }
  attrs: {
    name: "method"
    mandatory: true
    value_casei: "post"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: { name: "name" }
  attrs: { name: "novalidate" }
  attrs: {
    name: "verify-xhr"
    value_url: {
      allow_relative: false
      allowed_protocol: "https"
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
}

tags {
  tag_name: "DIV"
  spec_name: "FORM > DIV [submitting]"
  mandatory_parent: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submitting"
    mandatory: true
    # Avoid triggering errors for non-form divs.
    dispatch_key: NAME_DISPATCH
  }
}
tags {
  tag_name: "DIV"
  spec_name: "FORM > DIV [submit-success]"
  mandatory_parent: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submit-success"
    mandatory: true
  }
}
tags {
  tag_name: "DIV"
  spec_name: "FORM > DIV [submit-success][template]"
  mandatory_parent: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submit-success"
    mandatory: true
  }
  attrs: {
    name: "template"
    mandatory: true
  }
}
tags {
  tag_name: "DIV"
  spec_name: "FORM > DIV [submit-error]"
  mandatory_parent: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submit-error"
    mandatory: true
  }
}
tags {
  tag_name: "DIV"
  spec_name: "FORM > DIV [submit-error][template]"
  mandatory_parent: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submit-error"
    mandatory: true
  }
  attrs: {
    name: "template"
    mandatory: true
  }
}
attr_lists: {
  name: "input-name-attr"
  attrs: {
    name: "name"
    blacklisted_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
}
# 4.10.4 The label element
tags: {
  tag_name: "LABEL"
  attrs: { name: "for" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-form"
}
# 4.10.5 The input element
tags: {
  tag_name: "INPUT"
  attrs: { name: "accept" }
  attrs: { name: "accesskey" }
  attrs: { name: "autocomplete" }
  attrs: { name: "autofocus" }
  attrs: { name: "checked" }
  attrs: { name: "disabled" }
  attrs: { name: "height" }
  attrs: { name: "inputmode" }
  attrs: { name: "list" }
  attrs: { name: "max" }
  attrs: { name: "maxlength" }
  attrs: { name: "min" }
  attrs: { name: "minlength" }
  attrs: { name: "multiple" }
  attrs: { name: "pattern" }
  attrs: { name: "placeholder" }
  attrs: { name: "readonly" }
  attrs: { name: "required" }
  attrs: { name: "selectiondirection" }
  attrs: { name: "size" }
  attrs: { name: "spellcheck" }
  attrs: { name: "step" }
  attrs: { name: "tabindex" }
  attrs: {
    name: "type"
    blacklisted_value_regex: "(^|\\s)("  # Values are space separated.
        "butrs: { name: "[width]" }
  attr_lists: "input-name-attr"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-form"
}
# 4.10.6 The button element
tags: {
  tag_name: "BUTTON"
  attrs: {
    name: "disabled"
    value: ""
  }
  attrs: {
    name: "role"
    implicit: true
  }
  attrs: {
    name: "tabindex"
    implicit: true
  }
  attrs: { name: "type" }
  attrs: { name: "value" }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attrs: { name: "[type]" }
  attrs: { name: "[value]" }
  attr_lists: "input-name-attr"
}
# Button variant specifically supporting <amp-app-banner> tag with the
# open-button attribute.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "BUTTON"
  spec_name: "amp-app-banner button[open-button]"
  satisfies: "amp-app-banner button[open-button]"
  mandatory_ancestor: "AMP-APP-BANNER"
  attrs: {
    name: "open-button"
    value: ""
  }
  attrs: {
    name: "role"
    implicit: true
  }
  attrs: {
    name: "tabindex"
    implicit: true
  }
  attrs: { name: "type" }
  attrs: { name: "value" }
  attr_lists: "input-name-attr"
}
# 4.10.7 The select element
tags: {
  tag_name: "SELECT"
  attrs: { name: "autofocus" }
  attrs: { name: "disabled" }
  attrs: { name: "multiple" }
  attrs: { name: "required" }
  attrs: { name: "size" }
  # <amp-bind>
  attrs: { name: "[autofocus]" }
  attrs: { name: "[disabled]" }
  attrs: { name: "[multiple]" }
  attrs: { name: "[required]" }
  attrs: { name: "[size]" }
  attr_lists: "input-name-attr"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-form"
}
# 4.10.8 The datalist element
tags: {
  tag_name: "DATALIST"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-form"
}
# 4.10.9 The optgroup element
tags: {
  tag_name: "OPTGROUP"
  mandatory_parent: "SELECT"
  attrs: { name: "disabled" }
  attrs: { name: "label" }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attrs: { name: "[label]" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-form"
}
# 4.10.10 The option element
tags: {
  tag_name: "OPTION"
  attrs: { name: "disabled" }
  attrs: { name: "label" }
  attrs: { name: "selected" }
  attrs: { name: "value" }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attrs: { name: "[label]" }
  attrs: { name: "[selected]" }
  attrs: { name: "[value]" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-form"
}
# 4.10.11 The textarea element
tags: {
  tag_name: "TEXTAREA"
  attrs: { name: "autocomplete" }
  attrs: { name: "autofocus" }
  attrs: { name: "cols" }
  attrs: { name: "disabled" }
  attrs: { name: "maxlength" }
  attrs: { name: "minlength" }
  attrs: { name: "placeholder" }
  attrs: { name: "readonly" }
  attrs: { name: "required" }
  attrs: { name: "rows" }
  attrs: { name: "selectiondirection" }
  attrs: { name: "selectionend" }
  attrs: { name: "selectionstart" }
  attrs: { name: "spellcheck" }
  attrs: { name: "wrap" }
  # <amp-bind>
  attrs: { name: "[autocomplete]" }
  attrs: { name: "[autofocus]" }
  attrs: { name: "[cols]" }
  attrs: { name: "[disabled]" }
  attrs: { name: "[maxlength]" }
  attrs: { name: "[minlength]" }
  attrs: { name: "[placeholder]" }
  attrs: { name: "[readonly]" }
  attrs: { name: "[required]" }
  attrs: { name: "[rows]" }
  attrs: { name: "[selectiondirection]" }
  attrs: { name: "[selectionend]" }
  attrs: { name: "[selectionstart]" }
  attrs: { name: "[spellcheck]" }
  attrs: { name: "[wrap]" }
  attr_lists: "input-name-attr"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-form"
}
# 4.10.13 The output element
tags: {
  tag_name: "OUTPUT"
  attrs: { name: "for" }
  attrs: { name: "form" }
  attr_lists: "input-name-attr"
}
# 4.10.14 The progress element
tags: {
  tag_name: "PROGRESS"
  attrs: { name: "max" }
  attrs: { name: "value" }
}
# 4.10.15 The meter element
tags: {
  tag_name: "METER"
  attrs: { name: "high" }
  attrs: { name: "low" }
  attrs: { name: "max" }
  attrs: { name: "min" }
  attrs: { name: "optimum" }
  attrs: { name: "value" }
}
# 4.10.16 The fieldset element
tags: {
  tag_name: "FIELDSET"
  attrs: { name: "disabled" }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attr_lists: "input-name-attr"
}
# 4.10.17 The legend element
tags: {
  tag_name: "LEGEND"
}

# 4.11 Scripting
# 4.11.1 The script element
# Only the amphtml script, custom extensions and the LD/JSON description are
# allowed.
tags: {
  html_format: AMP
  html_format: AMP4EMAIL
  html_format: EXPERIMENTAL
  tag_name: "SCRIPT"
  spec_name: "amphtml engine v0.js script"
  mandatory: true
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "async"
    mandatory: true
    value: ""
  }
  attrs: { name: "nonce" }
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    value_casei: "text/javascript"
  }
  cdata: {
    blacklisted_cdata_regex: {
      regex: "."
      error_message: "contents"
    }
  }
  spec_url: "https://www.ampproject.org/docs/reference/spec#required-markup"
}
tags: {
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  spec_name: "amp4ads engine amp4ads-v0.js script"
  mandatory: true
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "async"
    mandatory: true
    value: ""
  }
  attrs: { name: "nonce" }
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/amp4ads-v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    value_casei: "text/javascript"
  }
  cdata: {
    blacklisted_cdata_regex: {
      regex: "."
      error_message: "contents"
    }
  }
  spec_url: "https://www.ampproject.org/docs/reference/spec#required-markup"
}
# JSON Linked Data
tags: {
  tag_name: "SCRIPT"
  spec_name: "script type=application/ld+json"
  attrs: { name: "nonce" }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/ld+json"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    blacklisted_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
# AMP RTC (Real Time Config)
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "SCRIPT"
  spec_name: "script id=amp-rtc"
  unique: true
  mandatory_parent: "HEAD"
  attrs: { name: "nonce" }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
  }
  attrs: {
    name: "id"
    mandatory: true
    value_casei: "amp-rtc"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    blacklisted_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
# AMP IMA VIDEO
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "SCRIPT"
  spec_name: "amp-ima-video > script[type=application/json]"
  mandatory_parent: "AMP-IMA-VIDEO"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  cdata: {
    blacklisted_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
# Specific script tags for custom elements and runtime imports.
# 4.11.2 The noscript element
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "NOSCRIPT"
  spec_name: "noscript enclosure for boilerplate"
  mandatory: true
  unique: true
  mandatory_parent: "HEAD"
  spec_url: "https://github.com/ampproject/amphtml/blob/master/spec/amp-boilerplate.md"
}
# We allow noscript in the body to contain tags otherwise disallowed by AMP.
tags: {
  html_format: AMP
  tag_name: "NOSCRIPT"
  # Noscript inside of noscript has strange parsing semantics in browsers and
  # isn't really helping anyone anyway.
  mandatory_ancestor: "BODY"
  disallowed_ancestor: "NOSCRIPT"
}
# 4.11.3 The template element
# See extensions/amp-mustache/validator-amp-mustache.protoascii.

# 11 Obsolute features
# 11.2 Non-conforming features
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "ACRONYM"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "BIG"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "CENTER"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "DIR"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "HGROUP"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "LISTING"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "MULTICOL"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "NEXTID"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "NOBR"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "SPACER"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "STRIKE"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "TT"
}
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "XMP"
}

# Some additional tags, microformats, allowances.

# The slot element.
# https://developer.mozilla.org/en-US/docs/Web/HTML/Element/slot
tags: {
  html_format: AMP
  html_format: EXPERIMENTAL
  tag_name: "SLOT"
  attrs: { name: "name" }
}

# This tag is a preserved indicator for documents created in microsoft word.
# They do not render.
tags: {
  html_format: AMP
  tag_name: "O:P"
}

# Tags and attributes specific to AMP HTML.
# AMP Custom elements require a "src" or a "srcset" attribute,
# having both is also allowed.
attr_lists: {
  name: "mandatory-src-or-srcset"
  attrs: {
    name: "src"
    alternative_names: "srcset"
    mandatory: true
    value_url: {
      allowed_protocol: "data"
      allowed_protocol: "http"
      allowed_protocol: "https"
      allow_relative: true
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
}
# In AMP4EMAIL Custom elements require a "src" attribute. Unlike AMP-HTML,
# srcset is disallowed. In addition "src" is not bindable in AMP4EMAIL and the
# only accepted protocol is https. Finally the AMP4EMAIL restrictions on
# mustache on href appear here as well.
attr_lists: {
  name: "mandatory-src-amp4email"
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      allowed_protocol: "https"
      allow_relative: false
    }
    # Openning doubly curly brackets {{ (these are mustache delimiters) can only
    # appear at the beginnig of the attribute's value. Likewise closing doubly
    # curly brackets }} can only appear at the end of the attribute's value.
    # Furthermore unbalanced delimiters are not allowed.
    # Additionally section mustache delimiters, i.e., {{#, {{^, {{/ are
    # disallowed.
    blacklisted_value_regex: "(__amp_source_origin|"
        "(.|\\s){{|"    # Openning delimiter can only appear at the beginning.
        "}}(.|\\s)|"    # Closing delimiter can only appear at the end.
        "^{{.*[^}][^}]$|"    # Delimiters must be balanced.
        "^[^{][^{].*}}$|"    # Delimiters must be balanced.
        "^}}|"    # Also caught by the requirements on balanced delimiters.
        "{{$|"    # Also caught by the requirements on balanced delimiters.
        "{{#|"    # Section delimiters are disallowed.
        "{{/|"    # Section delimiters are disallowed.
        "{{\\^)"  # Section delimiters are disallowed.
  }
}
# Same as above except that the attribute is not mandatory.
attr_lists: {
  name: "optional-src-amp4email"
  attrs: {
    name: "src"
    value_url: {
      allowed_protocol: "https"
      allow_relative: false
    }
    # Openning doubly curly brackets {{ (these are mustache delimiters) can only
    # appear at the beginnig of the attribute's value. Likewise closing doubly
    # curly brackets }} can only appear at the end of the attribute's value.
    # Furthermore unbalanced delimiters are not allowed.
    # Additionally section mustache delimiters, i.e., {{#, {{^, {{/ are
    # disallowed.
    blacklisted_value_regex: "(__amp_source_origin|"
        "(.|\\s){{|"    # Openning delimiter can only appear at the beginning.
        "}}(.|\\s)|"    # Closing delimiter can only appear at the end.
        "^{{.*[^}][^}]$|"    # Delimiters must be balanced.
        "^[^{][^{].*}}$|"    # Delimiters must be balanced.
        "^}}|"    # Also caught by the requirements on balanced delimiters.
        "{{$|"    # Also caught by the requirements on balanced delimiters.
        "{{#|"    # Section delimiters are disallowed.
        "{{/|"    # Section delimiters are disallowed.
        "{{\\^)"  # Section delimiters are disallowed.
  }
}

# Extended AMP globally optional tags.
attr_lists: {
  name: "extended-amp-global"
  attrs: { name: "media" }
  attrs: { name: "noloading" value: "" }
}
tags: {  # <amp-img>
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "AMP-IMG"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attrs: { name: "placeholder" }
  # <amp-bind>
  attrs: { name: "[alt]" }
  attrs: { name: "[attribution]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srcset]" }
  attr_lists: "extended-amp-global"
  attr_lists: "lightboxable-elements"
  attr_lists: "mandatory-src-or-srcset"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-img"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
# See the restrictions on mandatory-src-amp4email.
tags: {  # <amp-img>
  html_format: AMP4EMAIL
  tag_name: "AMP-IMG"
  spec_name: "AMP-IMG (AMP4EMAIL)"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attrs: { name: "placeholder" }
  attr_lists: "extended-amp-global"
  attr_lists: "mandatory-src-amp4email"
  # <amp-bind>
  attrs: { name: "[alt]" }
  attrs: { name: "[attribution]" }
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-img"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {  # <amp-layout>
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "AMP-LAYOUT"
  attr_lists: "extended-amp-global"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-layout"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-pixel>
  html_format: AMP
  html_format: AMP4ADS
  html_format: EXPERIMENTAL
  tag_name: "AMP-PIXEL"
  attrs: { name: "allow-ssr-img" }
  attrs: {
    name: "referrerpolicy"
    value: "no-referrer"
  }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      allowed_protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
      allow_empty: true
    }
    blacklisted_value_regex: "__amp_source_origin"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://www.ampproject.org/docs/reference/components/amp-pixel"
  amp_layout {
    defines_default_height: true
    defines_default_width: true
    supported_layouts: FIXED
    supported_layouts: NODISPLAY
  }
}ton|"
        "file|"
        "image|"
        "password|"
        ")(\\s|$)"
  }
  attrs: { name: "value" }
  attrs: { name: "width" }
  # <amp-bind>
  attrs: { name: "[accept]" }
  attrs: { name: "[accesskey]" }
  attrs: { name: "[autocomplete]" }
  attrs: { name: "[checked]" }
  attrs: { name: "[disabled]" }
  attrs: { name: "[height]" }
  attrs: { name: "[inputmode]" }
  attrs: { name: "[max]" }
  attrs: { name: "[maxlength]" }
  attrs: { name: "[min]" }
  attrs: { name: "[minlength]" }
  attrs: { name: "[multiple]" }
  attrs: { name: "[pattern]" }
  attrs: { name: "[placeholder]" }
  attrs: { name: "[readonly]" }
  attrs: { name: "[required]" }
  attrs: { name: "[selectiondirection]" }
  attrs: { name: "[size]" }
  attrs: { name: "[spellcheck]" }
  attrs: { name: "[step]" }
  attrs: { name: "[type]" }
  attrs: { name: "[value]" }
  att

# AMP Layout attributes: implied for TagSpecs with amp_layout field
# set. Note that while these attributes are defined as optional here,
# depending on amp layout the validator will examine these fields and
# their values.
attr_lists: {
  name: "$AMP_LAYOUT_ATTRS"
  attrs: { name: "height" }
  attrs: { name: "heights" }
  attrs: { name: "layout" }
  attrs: { name: "sizes" }
  attrs: { name: "width" }
  # <amp-bind>
  attrs: { name: "[height]" }
  attrs: { name: "[width]" }
}

# AMP Extension attributes. These attributes are used in every AMP
# extension script tag
attr_lists: {
  name: "common-extension-attrs"
  attrs: {
    name: "async"
    mandatory: true
    value: ""
  }
  attrs: { name: "nonce" }
  attrs: {
    name: "type"
    value_casei: "text/javascript"
  }
}

# Global attributes: These can be used in all tags.
attr_lists: {
  name: "$GLOBAL_ATTRS"
  # For schema.org annotations.
  attrs: { name: "itemid" }
  attrs: { name: "itemprop" }
  attrs: { name: "itemref" }
  attrs: { name: "itemscope" }
  attrs: { name: "itemtype" }
  # Also for schema.org, RDFa syntax
  attrs: { name: "about" }
  attrs: { name: "content" }
  attrs: { name: "datatype" }
  attrs: { name: "inlist" }
  attrs: { name: "prefix" }
  attrs: { name: "property" }
  attrs: {
    name: "rel"
    blacklisted_value_regex: "(^|\\s)("  # Values are space separated
        "canonical|"
        "components|"
        "dns-prefetch|"
        "import|"
        "manifest|"
        "preconnect|"
        "preload|"
        "prerender|"
        "serviceworker|"
        "stylesheet|"
        "subresource"
        ")(\\s|$)"
  }
  attrs: { name: "resource" }
  attrs: { name: "rev" }
  attrs: { name: "typeof" }
  attrs: { name: "vocab" }
  # 3.2.5 HTML5 Global attributes.
  attrs: { name: "accesskey" }
  attrs: {
    name: "class"
    blacklisted_value_regex: "(^|\\W)i-amphtml-"
  }
  attrs: { name: "dir" }
  attrs: { name: "draggable" }
  attrs: {
    name: "hidden"
    value: ""
  }
  attrs: {
    name: "id"
    blacklisted_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "AMP|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "i-amphtml-\\S*|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
  attrs: { name: "lang" }
  attrs: { name: "tabindex" }
  attrs: { name: "title" }
  attrs: { name: "translate" }
  # Accessible Rich Internet Applications http://www.w3.org/TR/wai-aria/
  attrs: { name: "aria-activedescendant" }
  attrs: { name: "aria-atomic" }
  attrs: { name: "aria-autocomplete" }
  attrs: { name: "aria-busy" }
  attrs: { name: "aria-checked" }
  attrs: { name: "aria-controls" }
  attrs: { name: "aria-current" }
  attrs: { name: "aria-describedby" }
  attrs: { name: "aria-disabled" }
  attrs: { name: "aria-dropeffect" }
  attrs: { name: "aria-expanded" }
  attrs: { name: "aria-flowto" }
  attrs: { name: "aria-grabbed" }
  attrs: { name: "aria-haspopup" }
  attrs: { name: "aria-hidden" }
  attrs: { name: "aria-invalid" }
  attrs: { name: "aria-label" }
  attrs: { name: "aria-labelledby" }
  attrs: { name: "aria-level" }
  attrs: { name: "aria-live" }
  attrs: { name: "aria-multiline" }
  attrs: { name: "aria-multiselectable" }
  attrs: { name: "aria-orientation" }
  attrs: { name: "aria-owns" }
  attrs: { name: "aria-posinset" }
  attrs: { name: "aria-pressed" }
  attrs: { name: "aria-readonly" }
  attrs: { name: "aria-relevant" }
  attrs: { name: "aria-required" }
  attrs: { name: "aria-selected" }
  attrs: { name: "aria-setsize" }
  attrs: { name: "aria-sort" }
  attrs: { name: "aria-valuemax" }
  attrs: { name: "aria-valuemin" }
  attrs: { name: "aria-valuenow" }
  attrs: { name: "aria-valuetext" }
  attrs: {
    name: "on"
    trigger: {
      if_value_regex: "tap:.*"
      also_requires_attr: "role"
      also_requires_attr: "tabindex"
    }
  }
  attrs: { name: "role" }
  # For placeholders inside amp-ad and other tags, we allow the
  # placeholder empty attribute. See e.g.
  # https://github.com/ampproject/amphtml/pull/284/commits
  attrs: { name: "placeholder" value: "" }
  # We allow the empty fallback attribute on any element
  attrs: { name: "fallback" value: "" }
  attrs: { name: "lightbox" }
  attrs: { name: "overflow" }
  # amp-access specific attributes, see
  # https://www.ampproject.org/docs/reference/components/amp-access
  # TODO(gregable): These should only be allowed on any tag inside BODY or HEAD.
  attrs: { name: "amp-access" }
  attrs: { name: "amp-access-behavior" }
  attrs: { name: "amp-access-hide" }
  attrs: { name: "amp-access-id" }
  attrs: { name: "amp-access-loader" }
  attrs: { name: "amp-access-loading" }
  attrs: { name: "amp-access-off" }
  attrs: { name: "amp-access-on" }
  attrs: { name: "amp-access-show" }
  attrs: { name: "amp-access-style" }
  attrs: { name: "amp-access-template" }
  attrs: { name: "i-amp-access-id" }
  # amp-form specific attributes, see
  # https://github.com/ampproject/amphtml/issues/5268
  attrs: {
    name: "validation-for"
    trigger: {
      also_requires_attr: "visible-when-invalid"
    }
  }
  attrs: {
    name: "visible-when-invalid"
    value_regex: "(badInput|"
      "customError|"
      "patternMismatch|"
      "rangeOverflow|"
      "rangeUnderflow|"
      "stepMismatch|"
      "tooLong|"
      "typeMismatch|"
      "valueMissing)"
    trigger: {
      also_requires_attr: "validation-for"
    }
  }
  # amp-fx-collection specific attributes, see
  # https://www.ampproject.org/docs/reference/components/amp-fx-collection
  attrs: {
    name: "amp-fx"
    value_casei: "parallax"
    requires_extension: "amp-fx-collection"
  }
  # amp-subscriptions specific attributes, see
  # https://www.ampproject.org/docs/reference/components/amp-subscriptions
  attrs: {
    name: "subscriptions-action"
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-actions"
    value: ""
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-dialog"
    value: ""
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-display"
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-section"
    value_regex_casei: "(actions|content|content-not-granted)"
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-service"
    requires_extension: "amp-subscriptions"
  }
  # <amp-bind>
  attrs: { name: "[aria-activedescendant]" }
  attrs: { name: "[aria-atomic]" }
  attrs: { name: "[aria-autocomplete]" }
  attrs: { name: "[aria-busy]" }
  attrs: { name: "[aria-checked]" }
  attrs: { name: "[aria-controls]" }
  attrs: { name: "[aria-describedby]" }
  attrs: { name: "[aria-disabled]" }
  attrs: { name: "[aria-dropeffect]" }
  attrs: { name: "[aria-expanded]" }
  attrs: { name: "[aria-flowto]" }
  attrs: { name: "[aria-grabbed]" }
  attrs: { name: "[aria-haspopup]" }
  attrs: { name: "[aria-hidden]" }
  attrs: { name: "[aria-invalid]" }
  attrs: { name: "[aria-label]" }
  attrs: { name: "[aria-labelledby]" }
  attrs: { name: "[aria-level]" }
  attrs: { name: "[aria-live]" }
  attrs: { name: "[aria-multiline]" }
  attrs: { name: "[aria-multiselectable]" }
  attrs: { name: "[aria-orientation]" }
  attrs: { name: "[aria-owns]" }
  attrs: { name: "[aria-posinset]" }
  attrs: { name: "[aria-pressed]" }
  attrs: { name: "[aria-readonly]" }
  attrs: { name: "[aria-relevant]" }
  attrs: { name: "[aria-required]" }
  attrs: { name: "[aria-selected]" }
  attrs: { name: "[aria-setsize]" }
  attrs: { name: "[aria-sort]" }
  attrs: { name: "[aria-valuemax]" }
  attrs: { name: "[aria-valuemin]" }
  attrs: { name: "[aria-valuenow]" }
  attrs: { name: "[aria-valuetext]" }
  attrs: { name: "[class]" }
  attrs: { name: "[hidden]" }
  attrs: { name: "[text]" }
}

# Error Specificity: Used in the verbose validator to select between multiple
# generated error types for a failing error. A higher number means that the
# error is more specific, ie: more helpful, preferred.
error_specificity { code: UNKNOWN_CODE specificity: 0 }
error_specificity { code: MANDATORY_CDATA_MISSING_OR_INCORRECT specificity: 1 }
error_specificity { code: CDATA_VIOLATES_BLACKLIST specificity: 2 }
error_specificity { code: NON_WHITESPACE_CDATA_ENCOUNTERED specificity: 3 }
error_specificity { code: DISALLOWED_TAG_ANCESTOR specificity: 4 }
error_specificity { code: MANDATORY_TAG_ANCESTOR specificity: 5 }
error_specificity { code: MANDATORY_TAG_ANCESTOR_WITH_HINT specificity: 6 }
error_specificity { code: MANDATORY_TAG_MISSING specificity: 7 }
error_specificity { code: WRONG_PARENT_TAG specificity: 8 }
error_specificity { code: TAG_REQUIRED_BY_MISSING specificity: 9 }
error_specificity { code: TAG_EXCLUDED_BY_TAG specificity: 10 }
error_specificity { code: MISSING_REQUIRED_EXTENSION specificity: 11 }
error_specificity { code: ATTR_MISSING_REQUIRED_EXTENSION specificity: 12 }
error_specificity { code: WARNING_TAG_REQUIRED_BY_MISSING specificity: 13 }
error_specificity { code: EXTENSION_UNUSED specificity: 14 }
error_specificity { code: WARNING_EXTENSION_UNUSED specificity: 15 }
error_specificity { code: WARNING_EXTENSION_DEPRECATED_VERSION specificity: 16 }
error_specificity { code: DISALLOWED_TAG specificity: 17 }
error_specificity { code: DISALLOWED_ATTR specificity: 18 }
error_specificity { code: INVALID_ATTR_VALUE specificity: 19 }
error_specificity { code: DUPLICATE_ATTRIBUTE specificity: 20 }
error_specificity { code: ATTR_VALUE_REQUIRED_BY_LAYOUT specificity: 21 }
error_specificity { code: MANDATORY_ATTR_MISSING specificity: 22 }
error_specificity { code: MANDATORY_ONEOF_ATTR_MISSING specificity: 23 }
error_specificity { code: ATTR_REQUIRED_BUT_MISSING specificity: 24 }
error_specificity { code: DUPLICATE_UNIQUE_TAG specificity: 25 }
error_specificity { code: DUPLICATE_UNIQUE_TAG_WARNING specificity: 26 }
error_specificity { code: STYLESHEET_TOO_LONG specificity: 27 }
error_specificity { code: CSS_SYNTAX specificity: 28 }
error_specificity { code: CSS_SYNTAX_INVALID_AT_RULE specificity: 29 }
error_specificity {
  code: MANDATORY_PROPERTY_MISSING_FROM_ATTR_VALUE specificity: 30
}
error_specificity { code: INVALID_PROPERTY_VALUE_IN_ATTR_VALUE specificity: 31 }
error_specificity { code: DISALLOWED_PROPERTY_IN_ATTR_VALUE specificity: 32 }
error_specificity { code: MUTUALLY_EXCLUSIVE_ATTRS specificity: 33 }
error_specificity { code: UNESCAPED_TEMPLATE_IN_ATTR_VALUE specificity: 34 }
error_specificity { code: TEMPLATE_PARTIAL_IN_ATTR_VALUE specificity: 35 }
error_specificity { code: TEMPLATE_IN_ATTR_NAME specificity: 36 }
error_specificity {
  code: INCONSISTENT_UNITS_FOR_WIDTH_AND_HEIGHT specificity: 37
}
error_specificity { code: IMPLIED_LAYOUT_INVALID specificity: 38 }
error_specificity { code: SPECIFIED_LAYOUT_INVALID specificity: 39 }
error_specificity { code: ATTR_DISALLOWED_BY_IMPLIED_LAYOUT specificity: 40 }
error_specificity { code: ATTR_DISALLOWED_BY_SPECIFIED_LAYOUT specificity: 41 }
error_specificity { code: DUPLICATE_DIMENSION specificity: 42 }
error_specificity { code: DISALLOWED_RELATIVE_URL specificity: 43 }
error_specificity { code: MISSING_URL specificity: 44 }
error_specificity { code: DISALLOWED_DOMAIN specificity: 45 }
error_specificity { code: INVALID_URL_PROTOCOL specificity: 46 }
error_specificity { code: INVALID_URL specificity: 47 }
error_specificity { code: DISALLOWED_STYLE_ATTR specificity: 48 }
error_specificity { code: CSS_SYNTAX_STRAY_TRAILING_BACKSLASH specificity: 49 }
error_specificity { code: CSS_SYNTAX_UNTERMINATED_COMMENT specificity: 50 }
error_specificity { code: CSS_SYNTAX_UNTERMINATED_STRING specificity: 51 }
error_specificity { code: CSS_SYNTAX_BAD_URL specificity: 52 }
error_specificity {
  code: CSS_SYNTAX_EOF_IN_PRELUDE_OF_QUALIFIED_RULE specificity: 53
}
error_specificity { code: CSS_SYNTAX_INVALID_DECLARATION specificity: 54 }
error_specificity { code: CSS_SYNTAX_INCOMPLETE_DECLARATION specificity: 55 }
error_specificity { code: CSS_SYNTAX_ERROR_IN_PSEUDO_SELECTOR specificity: 56 }
error_specificity { code: CSS_SYNTAX_MISSING_SELECTOR specificity: 57 }
error_specificity { code: CSS_SYNTAX_NOT_A_SELECTOR_START specificity: 58 }
error_specificity {
  code: CSS_SYNTAX_UNPARSED_INPUT_REMAINS_IN_SELECTOR specificity: 59
}
error_specificity { code: CSS_SYNTAX_MISSING_URL specificity: 60 }
error_specificity { code: CSS_SYNTAX_DISALLOWED_DOMAIN specificity: 61 }
error_specificity { code: CSS_SYNTAX_INVALID_URL specificity: 62 }
error_specificity { code: CSS_SYNTAX_INVALID_URL_PROTOCOL specificity: 63 }
error_specificity { code: CSS_SYNTAX_DISALLOWED_RELATIVE_URL specificity: 64 }
error_specificity { code: INCORRECT_NUM_CHILD_TAGS specificity: 65 }
error_specificity { code: DISALLOWED_CHILD_TAG_NAME specificity: 66 }
error_specificity { code: DISALLOWED_FIRST_CHILD_TAG_NAME specificity: 67 }
error_specificity { code: CSS_SYNTAX_INVALID_ATTR_SELECTOR specificity: 68 }
error_specificity {
  code: CHILD_TAG_DOES_NOT_SATISFY_REFERENCE_POINT specificity: 69
}
error_specificity { code: MANDATORY_REFERENCE_POINT_MISSING specificity: 70 }
error_specificity { code: DUPLICATE_REFERENCE_POINT specificity: 71 }
error_specificity { code: TAG_REFERENCE_POINT_CONFLICT specificity: 72 }
error_specificity {
  code: CHILD_TAG_DOES_NOT_SATISFY_REFERENCE_POINT_SINGULAR
  specificity: 73
}
error_specificity { code: CSS_SYNTAX_DISALLOWED_PROPERTY_VALUE specificity: 74 }
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_PROPERTY_VALUE_WITH_HINT
  specificity: 75
}
error_specificity {
  code: CSS_SYNTAX_PROPERTY_DISALLOWED_WITHIN_AT_RULE
  specificity: 76
}
error_specificity {
  code: CSS_SYNTAX_PROPERTY_DISALLOWED_TOGETHER_WITH
  specificity: 77
}
error_specificity {
  code: CSS_SYNTAX_PROPERTY_REQUIRES_QUALIFICATION
  specificity: 78
}
error_specificity {
  code: BASE_TAG_MUST_PRECEED_ALL_URLS
  specificity: 79
}
error_specificity { code: DISALLOWED_SCRIPT_TAG specificity: 100 }
error_specificity { code: GENERAL_DISALLOWED_TAG specificity: 101 }
error_specificity { code: DEPRECATED_ATTR specificity: 102 }
error_specificity { code: DEPRECATED_TAG specificity: 103 }
error_specificity { code: DISALLOWED_MANUFACTURED_BODY specificity: 104 }
error_specificity { code: DOCUMENT_TOO_COMPLEX specificity: 105 }
error_specificity { code: INCORRECT_MIN_NUM_CHILD_TAGS specificity: 106 }
error_specificity { code: TAG_NOT_ALLOWED_TO_HAVE_SIBLINGS specificity: 107 }
error_specificity { code: MANDATORY_LAST_CHILD_TAG specificity: 108 }
error_specificity {
  code: CSS_SYNTAX_INVALID_PROPERTY
  specificity: 109
}
error_specificity {
  code: CSS_SYNTAX_INVALID_PROPERTY_NOLIST
  specificity: 110
}
error_specificity {
  code: CSS_SYNTAX_QUALIFIED_RULE_HAS_NO_DECLARATIONS
  specificity: 111
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_QUALIFIED_RULE_MUST_BE_INSIDE_KEYFRAME
  specificity: 112
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_KEYFRAME_INSIDE_KEYFRAME
  specificity: 113
}
error_specificity {
  code: CSS_SYNTAX_MALFORMED_MEDIA_QUERY
  specificity: 115
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_MEDIA_TYPE
  specificity: 116
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_MEDIA_FEATURE
  specificity: 117
}
error_specificity {
  code: INVALID_UTF8
  specificity: 118
}
# Error formats
error_formats {
  code: UNKNOWN_CODE
  format: "Unknown error."
}
error_formats {
  code: MANDATORY_TAG_MISSING
  format: "The mandatory tag '%1' is missing or incorrect."
}
error_formats {
  code: TAG_REQUIRED_BY_MISSING
  format: "The tag '%1' is missing or incorrect, but required by '%2'."
}
error_formats {
  code: WARNING_TAG_REQUIRED_BY_MISSING
  format: "The tag '%1' is missing or incorrect, but required by '%2'. "
          "This will soon be an error."
}
error_formats {
  code: TAG_EXCLUDED_BY_TAG
  format: "The tag '%1' is present, but is excluded by the presence of '%2'."
}
error_formats {
  code: WARNING_EXTENSION_UNUSED
  format: "The extension '%1' was found on this page, but is unused "
          "(no '%2' tag seen). This may become an error in the future."
}
error_formats {
  code: EXTENSION_UNUSED
  format: "The extension '%1' was found on this page, but is unused. "
          "Please remove this extension."
}
error_formats {
  code: WARNING_EXTENSION_DEPRECATED_VERSION
  format: "The extension '%1' is referenced at version '%2' which is a "
          "deprecated version. Please use a more recent version of this "
          "extension. This may become an error in the future."
}

error_formats {
  code: ATTR_REQUIRED_BUT_MISSING
  format: "The attribute '%1' in tag '%2' is missing or incorrect, but "
          "required by attribute '%3'."
}
error_formats {
  code: DISALLOWED_TAG
  format: "The tag '%1' is disallowed."
}
error_formats {
  code: GENERAL_DISALLOWED_TAG
  format: "The tag '%1' is disallowed except in specific forms."
}
error_formats {
  code: DISALLOWED_SCRIPT_TAG
  format: "Only AMP runtime 'script' tags are allowed, and only in the document head."
}
error_formats {
  code: DISALLOWED_ATTR
  format: "The attribute '%1' may not appear in tag '%2'."
}
error_formats {
  code: DISALLOWED_STYLE_ATTR
  format: "The inline 'style' attribute is not allowed in AMP documents. "
          "Use 'style amp-custom' tag instead."
}
error_formats {
  code: INVALID_ATTR_VALUE
  format: "The attribute '%1' in tag '%2' is set "
          "to the invalid value '%3'."
}
error_formats {
  code: DUPLICATE_ATTRIBUTE
  format: "The tag '%1' contains the attribute '%2' repeated multiple times."
}
error_formats {
  code: ATTR_VALUE_REQUIRED_BY_LAYOUT
  format: "Invalid value '%1' for attribute '%2' in tag '%3' - "
          "for layout '%4', set the attribute '%2' to value '%5'."
}
error_formats {
  code: IMPLIED_LAYOUT_INVALID
  format: "The implied layout '%1' is not supported by tag '%2'."
}
error_formats {
  code: SPECIFIED_LAYOUT_INVALID
  format: "The specified layout '%1' is not supported by tag '%2'."
}
error_formats {
  code: MANDATORY_ATTR_MISSING
  format: "The mandatory attribute '%1' is missing in tag '%2'."
}
error_formats {
  code: INCONSISTENT_UNITS_FOR_WIDTH_AND_HEIGHT
  format: "Inconsistent units for width and height in tag '%1' - "
          "width is specified in '%2' whereas height is specified in '%3'."
}
error_formats {
  code: STYLESHEET_TOO_LONG
  format: "The author stylesheet specified in tag '%1' is too "
          "long - we saw %2 bytes whereas the limit is %3 bytes."
}
error_formats {
  code: MANDATORY_CDATA_MISSING_OR_INCORRECT
  format: "The mandatory text inside tag '%1' is missing or incorrect."
}
error_formats {
  code: CDATA_VIOLATES_BLACKLIST
  format: "The text inside tag '%1' contains '%2', which is disallowed."
}
error_formats {
  code: NON_WHITESPACE_CDATA_ENCOUNTERED
  format: "The tag '%1' contains text, which is disallowed."
}
error_formats {
  code: DISALLOWED_PROPERTY_IN_ATTR_VALUE
  format: "The property '%1' in attribute '%2' in tag '%3' is disallowed."
}
error_formats {
  code: INVALID_PROPERTY_VALUE_IN_ATTR_VALUE
  format: "The property '%1' in attribute '%2' in tag '%3' is set to "
          "'%4', which is invalid."
}
error_formats {
  code: DUPLICATE_DIMENSION
  format: "Multiple image candidates with the same width or pixel density "
          "found in attribute '%1' in tag '%2'."
}
error_formats {
  code: MISSING_URL
  format: "Missing URL for attribute '%1' in tag '%2'."
}
error_formats {
  code: INVALID_URL
  format: "Malformed URL '%3' for attribute '%1' in tag '%2'."
}
error_formats {
  code: INVALID_URL_PROTOCOL
  format: "Invalid URL protocol '%3:' for attribute '%1' in tag '%2'."
}
error_formats {
  code: DISALLOWED_DOMAIN
  format: "The domain '%3' for attribute '%1' in tag '%2' is disallowed."
}
error_formats {
  code: DISALLOWED_RELATIVE_URL
  format: "The relative URL '%3' for attribute '%1' in tag '%2' is disallowed."
}
error_formats {
  code: MANDATORY_PROPERTY_MISSING_FROM_ATTR_VALUE
  format: "The property '%1' is missing from attribute '%2' in tag '%3'."
}
error_formats {
  code: UNESCAPED_TEMPLATE_IN_ATTR_VALUE
  format: "The attribute '%1' in tag '%2' is set to '%3', which contains "
          "unescaped Mustache template syntax."
}
error_formats {
  code: TEMPLATE_PARTIAL_IN_ATTR_VALUE
  format: "The attribute '%1' in tag '%2' is set to '%3', which contains "
          "a Mustache template partial."
}
error_formats {
  code: DEPRECATED_TAG
  format: "The tag '%1' is deprecated - use '%2' instead."
}
error_formats {
  code: DEPRECATED_ATTR
  format: "The attribute '%1' in tag '%2' is deprecated - use '%3' instead."
}
error_formats {
  code: MUTUALLY_EXCLUSIVE_ATTRS
  format: "Mutually exclusive attributes encountered in tag '%1' - "
          "pick one of %2."
}
error_formats {
  code: MANDATORY_ONEOF_ATTR_MISSING
  format: "The tag '%1' is missing a mandatory attribute - pick one of %2."
}
error_formats {
  code: WRONG_PARENT_TAG
  format: "The parent tag of tag '%1' is '%2', but it can only be '%3'."
}
error_formats {
  code: DISALLOWED_TAG_ANCESTOR
  format: "The tag '%1' may not appear as a descendant of tag '%2'."
}
error_formats {
  code: MANDATORY_TAG_ANCESTOR
  format: "The tag '%1' may only appear as a descendant of tag '%2'."
}
error_formats {
  code: MANDATORY_TAG_ANCESTOR_WITH_HINT
  format: "The tag '%1' may only appear as a descendant of tag '%2'. "
          "Did you mean '%3'?"
}
error_formats {
  code: DUPLICATE_UNIQUE_TAG
  format: "The tag '%1' appears more than once in the document."
}
error_formats {
  code: DUPLICATE_UNIQUE_TAG_WARNING
  format: "The tag '%1' appears more than once in the document. "
          "This will soon be an error."
}
error_formats {
  code: TEMPLATE_IN_ATTR_NAME
  format: "Mustache template syntax in attribute name '%1' in tag '%2'."
}
error_formats {
  code: ATTR_DISALLOWED_BY_IMPLIED_LAYOUT
  format: "The attribute '%1' in tag '%2' is disallowed by implied layout '%3'."
}
error_formats {
  code: ATTR_DISALLOWED_BY_SPECIFIED_LAYOUT
  format: "The attribute '%1' in tag '%2' is disallowed by specified "
          "layout '%3'."
}
error_formats {
  code: INCORRECT_NUM_CHILD_TAGS
  format: "Tag '%1' must have %2 child tags - saw %3 child tags."
}
error_formats {
  code: INCORRECT_MIN_NUM_CHILD_TAGS
  format: "Tag '%1' must have a minimum of %2 child tags - saw %3 child tags."
}
error_formats {
  code: TAG_NOT_ALLOWED_TO_HAVE_SIBLINGS
  format: "Tag '%1' is not allowed to have any sibling tags ('%2' should only"
  " have 1 child)."
}
error_formats {
  code: MANDATORY_LAST_CHILD_TAG
  format: "Tag '%1', if present, must be the last child of tag '%2'."
}
error_formats {
  code: DISALLOWED_CHILD_TAG_NAME
  format: "Tag '%1' is disallowed as child of tag '%2'. "
          "Child tag must be one of %3."
}
error_formats {
  code: DISALLOWED_FIRST_CHILD_TAG_NAME
  format: "Tag '%1' is disallowed as first child of tag '%2'. "
          "First child tag must be one of %3."
}
error_formats {
  code: DISALLOWED_MANUFACTURED_BODY
  format: "Tag or text which is only allowed inside the body section found "
          "outside of the body section."
}
error_formats {
  code: CHILD_TAG_DOES_NOT_SATISFY_REFERENCE_POINT
  format: "The tag '%1', a child tag of '%2', does not satisfy one of "
          "the acceptable reference points: %3."
}
error_formats {
  code: CHILD_TAG_DOES_NOT_SATISFY_REFERENCE_POINT_SINGULAR
  format: "The tag '%1', a child tag of '%2', does not satisfy "
          "the reference point '%3'."
}
error_formats {
  code: MANDATORY_REFERENCE_POINT_MISSING
  format: "The mandatory reference point '%1' for '%2' is missing."
}
error_formats {
  code: DUPLICATE_REFERENCE_POINT
  format: "The reference point '%1' for '%2' must be unique "
          "but a duplicate was encountered."
}
error_formats {
  code: TAG_REFERENCE_POINT_CONFLICT
  format: "The tag '%1' conflicts with reference point '%2' because "
          "both define reference points."
}
error_formats {
  code: BASE_TAG_MUST_PRECEED_ALL_URLS
  format: "The tag '%1', which contains URLs, was found earlier in the "
          "document than the BASE element."
}
error_formats {
  code: MISSING_REQUIRED_EXTENSION
  format: "The tag '%1' requires including the '%2' extension JavaScript."
}
error_formats {
  code: ATTR_MISSING_REQUIRED_EXTENSION
  format: "The attribute '%1' requires including the '%2' extension JavaScript."
}
error_formats {
  code: DOCUMENT_TOO_COMPLEX
  format: "The document is too complex."
}
error_formats {
  code: INVALID_UTF8
  format: "The document contains invalid UTF8."
}

# CSS Errors. All of these use %1 for the tag name (in practice 'style'
# by default).
error_formats {
  code: CSS_SYNTAX
  format: "CSS syntax error in tag '%1' - %2."
}
error_formats {
  code: CSS_SYNTAX_INVALID_AT_RULE
  format: "CSS syntax error in tag '%1' - saw invalid at rule '@%2'."
}
error_formats {
  code: CSS_SYNTAX_STRAY_TRAILING_BACKSLASH
  format: "CSS syntax error in tag '%1' - stray trailing backslash."
}
error_formats {
  code: CSS_SYNTAX_UNTERMINATED_COMMENT
  format: "CSS syntax error in tag '%1' - unterminated comment."
}
error_formats {
  code: CSS_SYNTAX_UNTERMINATED_STRING
  format: "CSS syntax error in tag '%1' - unterminated string."
}
error_formats {
  code: CSS_SYNTAX_BAD_URL
  format: "CSS syntax error in tag '%1' - bad url."
}
error_formats {
  code: CSS_SYNTAX_EOF_IN_PRELUDE_OF_QUALIFIED_RULE
  format: "CSS syntax error in tag '%1' - end of stylesheet encountered "
          "in prelude of a qualified rule."
}
error_formats {
  code: CSS_SYNTAX_INVALID_PROPERTY
  format: "CSS syntax error in tag '%1' - invalid property '%2'. The only "
          "allowed properties are '%3'."
}
error_formats {
  code: CSS_SYNTAX_INVALID_PROPERTY_NOLIST
  format: "CSS syntax error in tag '%1' - invalid property '%2'."
}
error_formats {
  code: CSS_SYNTAX_QUALIFIED_RULE_HAS_NO_DECLARATIONS
  format: "CSS syntax error in tag '%1' - qualified rule '%2' has no "
          "declarations."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_QUALIFIED_RULE_MUST_BE_INSIDE_KEYFRAME
  format: "CSS syntax error in tag '%1' - qualified rule '%2' must be located "
          "inside of a keyframe."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_KEYFRAME_INSIDE_KEYFRAME
  format: "CSS syntax error in tag '%1' - keyframe inside keyframe is not "
          "allowed."
}
error_formats {
  code: CSS_SYNTAX_INVALID_DECLARATION
  format: "CSS syntax error in tag '%1' - invalid declaration."
}
error_formats {
  code: CSS_SYNTAX_INCOMPLETE_DECLARATION
  format: "CSS syntax error in tag '%1' - incomplete declaration."
}
error_formats {
  code: CSS_SYNTAX_ERROR_IN_PSEUDO_SELECTOR
  format: "CSS syntax error in tag '%1' - invalid pseudo selector."
}
error_formats {
  code: CSS_SYNTAX_MISSING_SELECTOR
  format: "CSS syntax error in tag '%1' - missing selector."
}
error_formats {
  code: CSS_SYNTAX_NOT_A_SELECTOR_START
  format: "CSS syntax error in tag '%1' - not a selector start."
}
error_formats {
  code: CSS_SYNTAX_UNPARSED_INPUT_REMAINS_IN_SELECTOR
  format: "CSS syntax error in tag '%1' - unparsed input remains in selector."
}
error_formats {
  code: CSS_SYNTAX_MISSING_URL
  format: "CSS syntax error in tag '%1' - missing url."
}
error_formats {
  code: CSS_SYNTAX_INVALID_URL
  format: "CSS syntax error in tag '%1' - invalid url '%2'."
}
error_formats {
  code: CSS_SYNTAX_INVALID_URL_PROTOCOL
  format: "CSS syntax error in tag '%1' - invalid url protocol '%2:'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_DOMAIN
  format: "CSS syntax error in tag '%1' - invalid domain '%2'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_RELATIVE_URL
  format: "CSS syntax error in tag '%1' - disallowed relative url '%2'."
}
error_formats {
  code: CSS_SYNTAX_INVALID_ATTR_SELECTOR
  format: "CSS syntax error in tag '%1' - invalid attribute selector."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_PROPERTY_VALUE
  format: "CSS syntax error in tag '%1' - the property '%2' is set "
          "to the disallowed value '%3'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_PROPERTY_VALUE_WITH_HINT
  format: "CSS syntax error in tag '%1' - the property '%2' is set "
          "to the disallowed value '%3'. Allowed values: %4."
}
error_formats {
  code: CSS_SYNTAX_PROPERTY_DISALLOWED_WITHIN_AT_RULE
  format: "CSS syntax error in tag '%1' - the property '%2' is disallowed "
          "within @%3. Allowed properties: %4."
}
error_formats {
  code: CSS_SYNTAX_PROPERTY_DISALLOWED_TOGETHER_WITH
  format: "CSS syntax error in tag '%1' - the property '%2' is disallowed "
          "together with '%3'. Allowed properties: %4."
}
error_formats {
  code: CSS_SYNTAX_PROPERTY_REQUIRES_QUALIFICATION
  format: "CSS syntax error in tag '%1' - the property '%2' is disallowed "
          "unless the enclosing rule is prefixed with the '%3' qualification."
}
error_formats {
  code: CSS_SYNTAX_MALFORMED_MEDIA_QUERY
  format: "CSS syntax error in tag '%1' - malformed media query."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_MEDIA_TYPE
  format: "CSS syntax error in tag '%1' - disallowed media type '%2'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_MEDIA_FEATURE
  format: "CSS syntax error in tag '%1' - disallowed media feature '%2'."
}
